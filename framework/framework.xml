<?xml version="1.0" encoding="UTF-8"?>
<data>
  <action>
    WND = {};
    WND.init = function(){
      WND.window.factory = new com.davidmaletz.mining.ui.WindowFactory();
      WND.label.factory = new com.davidmaletz.mining.ui.LabelFactory(false);
  	  WND.icon.factory = new com.davidmaletz.mining.ui.LabelFactory(true);
  		WND.button.factory = new com.davidmaletz.mining.ui.MyButtonFactory();
    }
    function getContainer(){
    if(getLocalPlayer() == null) throw "Window Framework : Failed to obtain container!";
    return (getLocalPlayer != null) ? getLocalPlayer().renderer.stage.getChildAt(0).getChildAt(0).getChildAt(1) : null;
    }
    function createAncientWindow(width,height){
      return new com.davidmaletz.controls.ClickableWindow(getContainer(),your.window.factory.instance.create(w,h),true,false,false);
    }

// a = new com.davidmaletz.controls.ClickableWindow(c,new com.davidmaletz.tiles.TileDrawable(Tile.get("nav.bg.star")),true,false,false);
// var b = new com.davidmaletz.mining.ui.TextButton(4,20,getText("common.ok"),function(){trace("OK!");}))
// a.addChild(b)
// a.clickables.clickables.addClickable(b,a,1)
// c.addDisplay(a)
// a = new com.davidmaletz.controls.ClickableWindow(c,your.window.factory.instance.create(100,100),true,false,false);

  </action>
  <onLoad>
    <action>
      WND.init();
    </action>
  </onLoad>
</data>
